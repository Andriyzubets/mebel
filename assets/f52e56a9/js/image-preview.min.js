!function(a){"use strict";var b=function(){function b(b){function c(){f.$detail[0];f.load=!0,f.ratio=this.width/this.height,f.resize.call(f),a(window).on("resize.image-preview",a.proxy(f.resize,f))}function d(a){a.preventDefault(),a.stopPropagation(),f.$detail.blurdialog("show"),f.$detail.one("ct-blurdialog.afterShow",function(){f.resize.call(f)})}function e(a){a.preventDefault(),a.stopPropagation(),f.$detail.blurdialog("hide")}var f=this,g=new Image;f.load=!1,f.ratio=1,f.element=b,f.$element=a(b),f.$detail=a(".image-preview__detail",b),f.$image=a("img",f.$detail),f.$detail.blurdialog(),f.$element.on("click",d),f.$detail.on("click",".image-preview__close",e),g.onload=c,g.src=f.$image.attr("src")}return b.prototype.resize=function(){if(this.load){var a=this,b=a.$detail[0],c=window.innerHeight-100;b.style.height=c+"px",b.style.width=c*a.ratio+"px"}},b}();a(".image-preview:has(.image-preview__detail)").each(function(){new b(this)})}(jQuery);